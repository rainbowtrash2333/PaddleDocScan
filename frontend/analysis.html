<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI智能分析 - PaddleOCR文档扫描</title>
    <link rel="icon" href="assets/images/OCR.svg" type="image/svg+xml">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="assets/css/analysis.css" rel="stylesheet">
</head>
<body>
    <div class="container main-container">
        <!-- 导航 -->
        <div class="row mb-3">
            <div class="col-12">
                <nav>
                    <a href="/" class="nav-link">
                        <i class="fas fa-arrow-left me-2"></i>返回文档扫描
                    </a>
                </nav>
            </div>
        </div>

        <!-- 页面标题 -->
        <div class="row">
            <div class="col-12">
                <div class="analysis-header">
                    <div class="text-center mb-4">
                        <h1><i class="fas fa-brain me-3"></i>AI智能分析</h1>
                        <p class="mb-0">使用人工智能对文档内容进行深度分析和洞察</p>
                    </div>
                    
                    <!-- AI模型选择和分析按钮在同一行 -->
                    <div class="d-flex justify-content-center align-items-end gap-3">
                        <div class="model-selector-inline">
                            <label for="analysisTypeSelect" class="form-label mb-1 text-white">
                                <i class="fas fa-cog me-1"></i>选择AI模型
                            </label>
                            <select id="analysisTypeSelect" class="form-select" disabled>
                                <option value="">加载中...</option>
                            </select>
                        </div>
                        <div>
                            <button class="btn btn-analyze-inline" id="analyzeBtn" disabled>
                                <i class="fas fa-magic me-2"></i>开始AI分析
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- 左侧输入区域 -->
            <div class="col-lg-6">
                <div class="content-panel">
                    <div class="panel-header">
                        <h3 class="panel-title">
                            <i class="fas fa-edit"></i>
                            内容输入
                        </h3>
                        <button class="btn btn-secondary btn-sm" id="clearBtn">
                            <i class="fas fa-trash me-1"></i>清空
                        </button>
                    </div>
                    
                    <div class="analysis-info">
                        <h6><i class="fas fa-info-circle me-2"></i>使用说明</h6>
                        <p>在下方输入框中粘贴或输入需要分析的文本内容，支持中英文混合文本。系统将为您提供智能分析报告。</p>
                    </div>
                    
                    <textarea 
                        id="contentInput" 
                        class="input-textarea" 
                        placeholder="请在此输入或粘贴需要分析的文本内容...



最多支持50,000个字符。"
                    ></textarea>
                    
                    <div class="char-counter" id="charCounter">
                        0 / 50,000 字符
                    </div>
                    
                </div>
            </div>

            <!-- 右侧输出区域 -->
            <div class="col-lg-6">
                <div class="content-panel">
                    <div class="panel-header">
                        <h3 class="panel-title">
                            <i class="fas fa-chart-line"></i>
                            分析结果
                        </h3>
                        <button class="btn btn-secondary btn-sm" id="copyResultBtn" style="display: none;">
                            <i class="fas fa-copy me-1"></i>复制结果
                        </button>
                    </div>
                    
                    <div class="output-container">
                        <!-- 默认状态 -->
                        <div class="text-center text-muted" id="defaultMessage">
                            <i class="fas fa-robot fa-3x mb-3" style="color: var(--border-color);"></i>
                            <p>输入内容后点击"开始AI分析"，智能分析结果将显示在这里</p>
                        </div>
                        
                        <!-- 加载状态 -->
                        <div class="loading-container" id="loadingContainer">
                            <div class="loading-spinner"></div>
                            <h5>AI分析中，请稍等...</h5>
                            <p>正在使用人工智能对您的内容进行深度分析</p>
                        </div>
                        
                        <!-- 分析结果 -->
                        <div class="analysis-result" id="analysisResult">
                            <!-- 结果内容将通过JavaScript插入 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast 提示 -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <i class="fas fa-info-circle text-primary me-2"></i>
                <strong class="me-auto">提示</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body" id="toastBody">
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/config.js"></script>
    <script src="assets/js/analysis.js"></script>
</body>
</html>